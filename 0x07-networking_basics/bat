
NETSTAT(1)                BSD General Commands Manual               NETSTAT(1)

NNAAMMEE
     nneettssttaatt -- show network status

SSYYNNOOPPSSIISS
     nneettssttaatt [--AAaaLLllnnWW] [--ff _a_d_d_r_e_s_s___f_a_m_i_l_y | --pp _p_r_o_t_o_c_o_l]
     nneettssttaatt [--ggiillnnss] [--vv] [--ff _a_d_d_r_e_s_s___f_a_m_i_l_y] [--II _i_n_t_e_r_f_a_c_e]
     nneettssttaatt --ii | --II _i_n_t_e_r_f_a_c_e [--ww _w_a_i_t] [--cc _q_u_e_u_e] [--aabbddggqqRRttSS]
     nneettssttaatt --ss [--ss] [--ff _a_d_d_r_e_s_s___f_a_m_i_l_y | --pp _p_r_o_t_o_c_o_l] [--ww _w_a_i_t]
     nneettssttaatt --ii | --II _i_n_t_e_r_f_a_c_e --ss [--ff _a_d_d_r_e_s_s___f_a_m_i_l_y | --pp _p_r_o_t_o_c_o_l]
     nneettssttaatt --mm [--mm]
     nneettssttaatt --rr [--AAaallnn] [--ff _a_d_d_r_e_s_s___f_a_m_i_l_y]
     nneettssttaatt --rrss [--ss]

DDEESSCCRRIIPPTTIIOONN
     The nneettssttaatt command symbolically displays the contents of various net-
     work-related data structures.  There are a number of output formats,
     depending on the options for the information presented.  The first form
     of the command displays a list of active sockets for each protocol.  The
     second form presents the contents of one of the other network data struc-
     tures according to the option selected. Using the third form, with a _w_a_i_t
     interval specified, nneettssttaatt will continuously display the information
     regarding packet traffic on the configured network interfaces.  The
     fourth form displays statistics for the specified protocol or address
     family. If a _w_a_i_t interval is specified, the protocol information over
     the last interval seconds will be displayed.  The fifth form displays
     per-interface statistics for the specified protocol or address family.
     The sixth form displays mbuf(9) statistics.  The seventh form displays
     routing table for the specified address family.  The eighth form displays
     routing statistics.

     The options have the following meaning:

     --AA    With the default display, show the address of any protocol control
           blocks associated with sockets and the flow hash; used for debug-
           ging.

     --aa    With the default display, show the state of all sockets; normally
           sockets used by server processes are not shown. With the routing
           table display (option --rr, as described below), show protocol-cloned
           routes (routes generated by a RTF_PRCLONING parent route); normally
           these routes are not shown.

     --bb    With the interface display (option --ii, as described below), show
           the number of bytes in and out.

     --cc _q_u_e_u_e
           With the queue statistics (option --qq, as described below), show
           only those for the specified _q_u_e_u_e.

     --dd    With either interface display (option --ii or an interval, as
           described below), show the number of dropped packets.

     --ff _a_d_d_r_e_s_s___f_a_m_i_l_y
           Limit statistics or address control block reports to those of the
           specified _a_d_d_r_e_s_s _f_a_m_i_l_y.  The following address families are rec-
           ognized: _i_n_e_t, for AF_INET, _i_n_e_t_6, for AF_INET6 and _u_n_i_x, for
           AF_UNIX.

     --gg    Show information related to multicast (group address) membership.
           If the --ss option is also present, show extended interface group
           management statistics.  If the --vv option is specified, show link-
           layer memberships; they are suppressed by default.  Source lists
           for each group will also be printed.  Specifiying --vv twice will
           print the control plane timers for each interface and the source
           list counters for each group.  If the --ii is specified, only that
           interface will be shown.  If the --ff is specified, only information
           for the address family will be displayed.

     --II _i_n_t_e_r_f_a_c_e
           Show information about the specified interface; used with a _w_a_i_t
           interval as described below.  If the --ss option is present, show
           per-interface protocol statistics on the _i_n_t_e_r_f_a_c_e for the speci-
           fied _a_d_d_r_e_s_s___f_a_m_i_l_y or _p_r_o_t_o_c_o_l, or for all protocol families.

     --ii    Show the state of interfaces which have been auto-configured
           (interfaces statically configured into a system, but not located at
           boot time are not shown).  If the --aa options is also present, mul-
           ticast addresses currently in use are shown for each Ethernet
           interface and for each IP interface address.  Multicast addresses
           are shown on separate lines following the interface address with
           which they are associated.  If the --ss option is present, show per-
           interface statistics on all interfaces for the specified
           _a_d_d_r_e_s_s___f_a_m_i_l_y or _p_r_o_t_o_c_o_l, or for all protocol families.

     --LL    Show the size of the various listen queues.  The first count shows
           the number of unaccepted connections.  The second count shows the
           amount of unaccepted incomplete connections.  The third count is
           the maximum number of queued connections.

     --ll    Print full IPv6 address.

     --mm    Show statistics recorded by the memory management routines (the
           network stack manages a private pool of memory buffers). More
           detailed information about the buffers, which includes their cache
           related statistics, can be obtained by using --mmmm or --mm --mm option.

     --nn    Show network addresses as numbers (normally nneettssttaatt interprets
           addresses and attempts to display them symbolically).  This option
           may be used with any of the display formats.

     --pp _p_r_o_t_o_c_o_l
           Show statistics about _p_r_o_t_o_c_o_l, which is either a well-known name
           for a protocol or an alias for it.  Some protocol names and aliases
           are listed in the file _/_e_t_c_/_p_r_o_t_o_c_o_l_s.  The special protocol name
           ``bdg'' is used to show bridging statistics.  A null response typi-
           cally means that there are no interesting numbers to report.  The
           program will complain if _p_r_o_t_o_c_o_l is unknown or if there is no sta-
           tistics routine for it.

     --qq    Show network interface send queue statistics.  By default all
           queues are displayed, unless specified with --cc.  This option
           requires specifying an interface with --II option.  More detailed
           information about the queues, which includes their queueing algo-
           rithm related statistics, can be obtained by using --qqqq or --qq --qq
           option.

     --rr    Show the routing tables.  Use with --aa to show protocol-cloned
           routes.  When --ss is also present, show routing statistics instead.
           When --ll is also present, nneettssttaatt assumes more columns are there and
           the maximum transmission unit.  More detailed information about the
           route metrics are displayed with --llll for TCP round trip times --llllll
           for all metrics.  Use the --zz flags to display only entries with
           non-zero RTT values.  (``mtu'') are also displayed.

     --RR    Show reachability information.  Use with --ii to show link-layer
           reachability information for a given interface.

     --ss    Show per-protocol statistics.  If this option is repeated, counters
           with a value of zero are suppressed.  For security reasons, root
           privileges are required to read TCP statistics and in the absence
           of such privileges all TCP counters will be reported as zero.

     --SS    Show interface link status and interface state information about
           the specified interface.  This option requires specifying an inter-
           face with --II option.

     --vv    Increase verbosity level.

     --WW    In certain displays, avoid truncating addresses even if this causes
           some fields to overflow.

     --ww _w_a_i_t
           Show network interface or protocol statistics at intervals of _w_a_i_t
           seconds.

     --xx    Show extended link-layer reachability information in addition to
           that shown by the --RR flag.

OOUUTTPPUUTT
     The default display, for active sockets, shows the local and remote
     addresses, send and receive queue sizes (in bytes), protocol, and the
     internal state of the protocol.  Address formats are of the form
     ``host.port'' or ``network.port'' if a socket's address specifies a net-
     work but no specific host address.  If known, the host and network
     addresses are displayed symbolically according to the databases
     _/_e_t_c_/_h_o_s_t_s and _/_e_t_c_/_n_e_t_w_o_r_k_s, respectively.  If a symbolic name for an
     address is unknown, or if the --nn option is specified, the address is
     printed numerically, according to the address family.  For more informa-
     tion regarding the Internet ``dot format'', refer to inet(3)).  Unspeci-
     fied, or ``wildcard'', addresses and ports appear as ``*''.

     Internet domain socket states:

     CLOSED:  The socket is not in use.

     LISTEN:  The socket is listening for incoming connections.  Unconnected
     listening sockets like these are only displayed when using the -a option.

     SYN_SENT:  The socket is actively trying to establish a connection to a
     remote peer.

     SYN_RCVD:  The socket has passively received a connection request from a
     remote peer.

     ESTABLISHED:  The socket has an established connection between a local
     application and a remote peer.

     CLOSE_WAIT:  The socket connection has been closed by the remote peer,
     and the system is waiting for the local application to close its half of
     the connection.

     LAST_ACK:  The socket connection has been closed by the remote peer, the
     local application has closed its half of the connection, and the system
     is waiting for the remote peer to acknowledge the close.

     FIN_WAIT_1:  The socket connection has been closed by the local
     application, the remote peer has not yet acknowledged the close, and the
     system is waiting for it to close its half of the connection.

     FIN_WAIT_2:  The socket connection has been closed by the local
     application, the remote peer has acknowledged the close, and the system
     is waiting for it to close its half of the connection.

     CLOSING:  The socket connection has been closed by the local application
     and the remote peer simultaneously, and the remote peer has not yet
     acknowledged the close attempt of the local application.

     TIME_WAIT:  The socket connection has been closed by the local
     application, the remote peer has closed its half of the connection, and
     the system is waiting to be sure that the remote peer received the last
     acknowledgement.

     The interface display provides a table of cumulative statistics regarding
     packets transferred, errors, and collisions.  The network addresses of
     the interface and the maximum transmission unit (``mtu'') are also dis-
     played.

     The routing table display indicates the available routes and their sta-
     tus.  Each route consists of a destination host or network and a gateway
     to use in forwarding packets.  The flags field shows a collection of
     information about the route stored as binary choices.  The individual
     flags are discussed in more detail in the route(8) and route(4) manual
     pages.  The mapping between letters and flags is:

     1       RTF_PROTO1       Protocol specific routing flag #1
     2       RTF_PROTO2       Protocol specific routing flag #2
     3       RTF_PROTO3       Protocol specific routing flag #3
     B       RTF_BLACKHOLE    Just discard packets (during updates)
     b       RTF_BROADCAST    The route represents a broadcast address
     C       RTF_CLONING      Generate new routes on use
     c       RTF_PRCLONING    Protocol-specified generate new routes on use
     D       RTF_DYNAMIC      Created dynamically (by redirect)
     G       RTF_GATEWAY      Destination requires forwarding by intermediary
     H       RTF_HOST         Host entry (net otherwise)
     I       RTF_IFSCOPE      Route is associated with an interface scope
     i       RTF_IFREF        Route is holding a reference to the interface
     L       RTF_LLINFO       Valid protocol to link address translation
     M       RTF_MODIFIED     Modified dynamically (by redirect)
     m       RTF_MULTICAST    The route represents a multicast address
     R       RTF_REJECT       Host or net unreachable
     r       RTF_ROUTER       Host is a default router
     S       RTF_STATIC       Manually added
     U       RTF_UP           Route usable
     W       RTF_WASCLONED    Route was generated as a result of cloning
     X       RTF_XRESOLVE     External daemon translates proto to link address
     Y       RTF_PROXY        Proxying; cloned routes will not be scoped

     Direct routes are created for each interface attached to the local host;
     the gateway field for such entries shows the address of the outgoing
     interface.  The refcnt field gives the current number of active uses of
     the route.  Connection oriented protocols normally hold on to a single
     route for the duration of a connection while connectionless protocols
     obtain a route while sending to the same destination.  The use field pro-
     vides a count of the number of packets sent using that route.  The inter-
     face entry indicates the network interface utilized for the route.  A
     route which is marked with the RTF_IFSCOPE flag is instantiated for the
     corresponding interface.  A cloning route which is marked with the
     RTF_PROXY flag will not generate new routes that are associated with its
     interface scope.

     When nneettssttaatt is invoked with the --ww option and a _w_a_i_t interval argument,
     it displays a running count of statistics related to network interfaces
     or protocols.  An obsolete version of this option used a numeric parame-
     ter with no option, and is currently supported for backward compatibil-
     ity.  By default, this display summarizes information for all interfaces.
     Information for a specific interface may be displayed with the --II option.

SSEEEE AALLSSOO
     nfsstat(1), ps(1), inet(4), unix(4), hosts(5), networks(5), protocols(5),
     route(8), services(5), iostat(8),

HHIISSTTOORRYY
     The nneettssttaatt command appeared in 4.2BSD.

     IPv6 support was added by WIDE/KAME project.

BBUUGGSS
     The notion of errors is ill-defined.

Darwin                           June 15, 2001                          Darwin
